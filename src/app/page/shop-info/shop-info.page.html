<ion-header class="card-background-page">

    <ion-toolbar color="primary">
        <ion-buttons slot="start" routerDirection="back">
            <ion-back-button [text]="''"></ion-back-button>
        </ion-buttons>
        <ion-title>商品详情</ion-title>
    </ion-toolbar>

</ion-header>

<ion-content>

    <!-- <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="下拉刷新..." refreshingSpinner="circles"
            refreshingText=" 加载中...">
        </ion-refresher-content>
    </ion-refresher> -->

    <div [hidden]="showPage">

        <WingBlank *ngIf="Data && Data.images">
            <Carousel [infinite]="true"
                        [vertical]="false"
                        [selectedIndex]="1"
                        (beforeChange)="beforeChange($event)"
                        (afterChange)="afterChange($event)"
            >
                <CarouselSlide *ngFor="let item of Data.images" >
                <div style="display: inline-block; width: 100%;" >
                    <!-- <img [src]="Data.images" style=" pointer-events: none; width: 100%;" [routerLink]="['/shop-diy']"/> -->
                    <img [src]="item" style=" pointer-events: none; width: 100%;"/>
                </div>
                </CarouselSlide>
            </Carousel>
        </WingBlank>
            

        <ion-grid fixed padding class="shop_title">
            <ion-row>
                <ion-col>
                    <ion-text class="title_text">{{Data.name}}</ion-text>
                </ion-col>
                <!-- <ion-col style="text-align: right;">
            <ion-label>{{Data.fictitious === '1' ? '实物' : '虚拟物品'}}</ion-label>
            </ion-col> -->
            </ion-row>
            <ion-row>
                <ion-col size="6" style="line-height: 25px">
                    <ion-label [hidden]="Data.mode == 2" >￥:{{Data.price}}</ion-label>
                    <ion-label [hidden]="Data.mode == 1">积分:{{Data.price}}</ion-label>
                </ion-col>
                <ion-col size="6" style="line-height: 25px">
                    <ion-label>库存:{{Data.stock > 0 ? Data.stock : 0}}</ion-label>
                </ion-col>
            </ion-row>
        </ion-grid>



        <ion-item class="shop_info" lines="none">
            <ion-label position="stacked">商品详情：</ion-label>
            <div [innerHtml]="assembleHTML(Data.content)"></div>
        </ion-item>

    </div>
    <div style="position: fixed; bottom:0px; width: 100%; background-color:white;">
            <section class="full-width">
                    <ion-button expand="full" color="primary" (click)="buy()">购买</ion-button>
                </section>
    </div>


</ion-content>